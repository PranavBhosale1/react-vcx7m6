{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-vcx7m6\\\\src\\\\components\\\\RoadmapView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { dia } from 'jointjs';\nimport 'jointjs/dist/joint.css';\nimport './RoadmapView.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Graph,\n  Paper,\n  Element,\n  Link\n} = dia;\nfunction RoadmapView() {\n  _s();\n  const graphRef = useRef(null);\n  const paperRef = useRef(null);\n  const [graph, setGraph] = useState(null);\n  const [paper, setPaper] = useState(null);\n  const [subjects, setSubjects] = useState([{\n    id: 'subject1',\n    name: 'Math',\n    topics: [{\n      id: 'topic1',\n      name: 'Algebra',\n      completed: false\n    }]\n  }, {\n    id: 'subject2',\n    name: 'Science',\n    topics: [{\n      id: 'topic2',\n      name: 'Physics',\n      completed: false\n    }]\n  }]);\n  const [selectedTopic, setSelectedTopic] = useState(null);\n  useEffect(() => {\n    const g = new Graph();\n    setGraph(g);\n    const p = new Paper({\n      el: paperRef.current,\n      model: g,\n      width: 800,\n      height: 600,\n      gridSize: 10,\n      drawGrid: true,\n      interactive: false\n    });\n    setPaper(p);\n    return () => {\n      p.remove();\n      g.clear();\n    };\n  }, []);\n  useEffect(() => {\n    if (graph) {\n      renderDiagram();\n    }\n  }, [graph, subjects]);\n  const renderDiagram = () => {\n    graph.clear(); // Clear previous diagram\n\n    subjects.forEach((subject, subjectIdx) => {\n      const subjectElement = new Element({\n        type: 'basic.Rect',\n        // Specify the type\n        position: {\n          x: 50 + subjectIdx * 200,\n          y: 50\n        },\n        size: {\n          width: 100,\n          height: 40\n        },\n        attrs: {\n          text: {\n            text: subject.name,\n            fill: 'black'\n          },\n          rect: {\n            fill: '#f9f9f9',\n            stroke: 'black'\n          }\n        }\n      });\n      graph.addCell(subjectElement);\n      subject.topics.forEach((topic, topicIdx) => {\n        const topicElement = new Element({\n          type: 'basic.Rect',\n          // Specify the type\n          position: {\n            x: 50 + subjectIdx * 200,\n            y: 100 + topicIdx * 60\n          },\n          size: {\n            width: 100,\n            height: 40\n          },\n          attrs: {\n            text: {\n              text: topic.name,\n              fill: 'black'\n            },\n            rect: {\n              fill: topic.completed ? '#8bc34a' : '#ff5252',\n              stroke: 'black'\n            }\n          }\n        });\n        graph.addCell(topicElement);\n        const link = new Link({\n          source: {\n            id: subjectElement.id\n          },\n          target: {\n            id: topicElement.id\n          },\n          attrs: {\n            '.connection': {\n              stroke: 'black'\n            }\n          }\n        });\n        graph.addCell(link);\n        topicElement.on('element:pointerclick', () => handleTopicClick(subject.id, topic.id));\n      });\n    });\n  };\n  const handleTopicClick = (subjectId, topicId) => {\n    const updatedSubjects = subjects.map(subject => {\n      if (subject.id === subjectId) {\n        return {\n          ...subject,\n          topics: subject.topics.map(topic => topic.id === topicId ? {\n            ...topic,\n            completed: !topic.completed\n          } : topic)\n        };\n      }\n      return subject;\n    });\n    setSubjects(updatedSubjects);\n  };\n  const handleDeleteTopic = (subjectId, topicId) => {\n    const updatedSubjects = subjects.map(subject => {\n      if (subject.id === subjectId) {\n        return {\n          ...subject,\n          topics: subject.topics.filter(topic => topic.id !== topicId)\n        };\n      }\n      return subject;\n    });\n    setSubjects(updatedSubjects);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"roadmap-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: paperRef,\n      className: \"roadmap-paper\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"roadmap-sidebar\",\n      children: selectedTopic && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topic-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Edit Topic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: selectedTopic.name,\n          onChange: e => handleTopicClick(selectedTopic.subjectId, selectedTopic.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteTopic(selectedTopic.subjectId, selectedTopic.id),\n          children: \"Delete Topic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n_s(RoadmapView, \"SYHNma9mywVNA52JzgRJmS5J1rQ=\");\n_c = RoadmapView;\nexport default RoadmapView;\nvar _c;\n$RefreshReg$(_c, \"RoadmapView\");","map":{"version":3,"names":["React","useState","useEffect","useRef","dia","jsxDEV","_jsxDEV","Graph","Paper","Element","Link","RoadmapView","_s","graphRef","paperRef","graph","setGraph","paper","setPaper","subjects","setSubjects","id","name","topics","completed","selectedTopic","setSelectedTopic","g","p","el","current","model","width","height","gridSize","drawGrid","interactive","remove","clear","renderDiagram","forEach","subject","subjectIdx","subjectElement","type","position","x","y","size","attrs","text","fill","rect","stroke","addCell","topic","topicIdx","topicElement","link","source","target","on","handleTopicClick","subjectId","topicId","updatedSubjects","map","handleDeleteTopic","filter","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","onClick","_c","$RefreshReg$"],"sources":["D:/react-vcx7m6/src/components/RoadmapView.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { dia } from 'jointjs';\r\nimport 'jointjs/dist/joint.css';\r\nimport './RoadmapView.css';\r\n\r\nconst { Graph, Paper, Element, Link } = dia;\r\n\r\nfunction RoadmapView() {\r\n    const graphRef = useRef(null);\r\n    const paperRef = useRef(null);\r\n    const [graph, setGraph] = useState(null);\r\n    const [paper, setPaper] = useState(null);\r\n    const [subjects, setSubjects] = useState([\r\n        { id: 'subject1', name: 'Math', topics: [{ id: 'topic1', name: 'Algebra', completed: false }] },\r\n        { id: 'subject2', name: 'Science', topics: [{ id: 'topic2', name: 'Physics', completed: false }] }\r\n    ]);\r\n    const [selectedTopic, setSelectedTopic] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const g = new Graph();\r\n        setGraph(g);\r\n\r\n        const p = new Paper({\r\n            el: paperRef.current,\r\n            model: g,\r\n            width: 800,\r\n            height: 600,\r\n            gridSize: 10,\r\n            drawGrid: true,\r\n            interactive: false\r\n        });\r\n        setPaper(p);\r\n\r\n        return () => {\r\n            p.remove();\r\n            g.clear();\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (graph) {\r\n            renderDiagram();\r\n        }\r\n    }, [graph, subjects]);\r\n\r\n    const renderDiagram = () => {\r\n        graph.clear(); // Clear previous diagram\r\n\r\n        subjects.forEach((subject, subjectIdx) => {\r\n            const subjectElement = new Element({\r\n                type: 'basic.Rect', // Specify the type\r\n                position: { x: 50 + subjectIdx * 200, y: 50 },\r\n                size: { width: 100, height: 40 },\r\n                attrs: { text: { text: subject.name, fill: 'black' }, rect: { fill: '#f9f9f9', stroke: 'black' } }\r\n            });\r\n            graph.addCell(subjectElement);\r\n\r\n            subject.topics.forEach((topic, topicIdx) => {\r\n                const topicElement = new Element({\r\n                    type: 'basic.Rect', // Specify the type\r\n                    position: { x: 50 + subjectIdx * 200, y: 100 + topicIdx * 60 },\r\n                    size: { width: 100, height: 40 },\r\n                    attrs: { text: { text: topic.name, fill: 'black' }, rect: { fill: topic.completed ? '#8bc34a' : '#ff5252', stroke: 'black' } }\r\n                });\r\n\r\n                graph.addCell(topicElement);\r\n                const link = new Link({\r\n                    source: { id: subjectElement.id },\r\n                    target: { id: topicElement.id },\r\n                    attrs: { '.connection': { stroke: 'black' } }\r\n                });\r\n                graph.addCell(link);\r\n\r\n                topicElement.on('element:pointerclick', () => handleTopicClick(subject.id, topic.id));\r\n            });\r\n        });\r\n    };\r\n\r\n    const handleTopicClick = (subjectId, topicId) => {\r\n        const updatedSubjects = subjects.map((subject) => {\r\n            if (subject.id === subjectId) {\r\n                return {\r\n                    ...subject,\r\n                    topics: subject.topics.map((topic) =>\r\n                        topic.id === topicId ? { ...topic, completed: !topic.completed } : topic\r\n                    )\r\n                };\r\n            }\r\n            return subject;\r\n        });\r\n\r\n        setSubjects(updatedSubjects);\r\n    };\r\n\r\n    const handleDeleteTopic = (subjectId, topicId) => {\r\n        const updatedSubjects = subjects.map((subject) => {\r\n            if (subject.id === subjectId) {\r\n                return {\r\n                    ...subject,\r\n                    topics: subject.topics.filter((topic) => topic.id !== topicId)\r\n                };\r\n            }\r\n            return subject;\r\n        });\r\n\r\n        setSubjects(updatedSubjects);\r\n    };\r\n\r\n    return (\r\n        <div className=\"roadmap-container\">\r\n            <div ref={paperRef} className=\"roadmap-paper\" />\r\n            <div className=\"roadmap-sidebar\">\r\n                {selectedTopic && (\r\n                    <div className=\"topic-details\">\r\n                        <h3>Edit Topic</h3>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={selectedTopic.name}\r\n                            onChange={(e) => handleTopicClick(selectedTopic.subjectId, selectedTopic.id, e.target.value)}\r\n                        />\r\n                        <button onClick={() => handleDeleteTopic(selectedTopic.subjectId, selectedTopic.id)}>\r\n                            Delete Topic\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RoadmapView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}